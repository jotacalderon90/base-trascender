<div class="modal fade" id="promise_modal_selector" >
	<div class="modal-dialog modal-sm">
		<div class="modal-content">
			<div class="modal-header">
				<span class="modal-title"></span>
			</div>
			<div class="modal-body text-justify">
				<div class="btn-group-vertical" role="group">
				
				</div>
			</div>
		</div>
	</div>
</div>

<script>
	app.modules.selector = function(parent){
		this.parent = parent;
	}
	
	app.modules.selector.prototype.execute = function(title,options){
		return new Promise((resolve,reject)=>{
			$('#promise_modal_selector .btn-group-vertical').html("");
			for(let i = 0;i < options.length; i++){
				const btn = document.createElement('button');
				btn.setAttribute('type','button');
				btn.setAttribute('class','btn btn-default');
				if(typeof options[i]==='string'){				
					btn.setAttribute('value',options[i]);
					btn.innerHTML = options[i];	
				}else{					
					btn.setAttribute('value',options[i].value);
					btn.innerHTML = options[i].label;
				}
				btn.addEventListener( 'click' , function(event){
					$('#promise_modal_selector').modal('hide');
					resolve(this.value);
				});
				$('#promise_modal_selector .btn-group-vertical').append(btn);
			}
			$('#promise_modal_selector .modal-title').html(title);
			$('#promise_modal_selector').modal('show');
		});
	}
	
</script>